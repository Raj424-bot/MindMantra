<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mind Mantra Admin Panel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
    }header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #4CAF50;
  color: white;
  padding: 15px;
  border-radius: 8px;
}

.question {
  background: white;
  padding: 15px;
  margin: 15px 0;
  border-radius: 10px;
  box-shadow: 0 0 8px rgba(0,0,0,0.1);
}

textarea {
  width: 100%;
  padding: 10px;
  border-radius: 5px;
  border: 1px solid #ccc;
  margin-top: 10px;
}

button {
  margin-top: 10px;
  padding: 10px 15px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.logout-btn {
  background-color: #e74c3c;
}

  </style>
</head>
<body>
  <header>
    <h2>Mind Mantra Admin Panel</h2>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </header>  <div id="question-list">
    <p>Loading questions...</p>
  </div>  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, getDocs, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBdHFYYdU_X_7LNuoFGWxDMD2nzLkE439I",
      authDomain: "mindmantra-2556a.firebaseapp.com",
      projectId: "mindmantra-2556a",
      storageBucket: "mindmantra-2556a.appspot.com",
      messagingSenderId: "899345272918",
      appId: "1:899345272918:web:321428c86ee15ccda66bf7",
      measurementId: "G-J06YXLQL1F"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const questionList = document.getElementById("question-list");

    async function loadQuestions() {
      const querySnapshot = await getDocs(collection(db, "questions"));
      questionList.innerHTML = "";
      querySnapshot.forEach((docSnap) => {
        const data = docSnap.data();
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `
          <h3>Question:</h3>
          <p><strong>${data.name}</strong> - ${data.question}</p>

          <textarea id="reply-${docSnap.id}" placeholder="Write reply here..."></textarea><button onclick="sendReply('${docSnap.id}')">Send Text Reply</button>

      <p style="margin-top:10px;">(Future audio/video reply options can be added here)</p>
    `;
    questionList.appendChild(div);
  });
}

window.sendReply = async function(id) {
  const reply = document.getElementById(reply-${id}).value;
  if (!reply.trim()) return alert("Please write a reply.");
  await updateDoc(doc(db, "questions", id), {
    reply: reply
  });
  alert("Reply sent successfully.");
}

window.logout = function() {
  window.location.href = "admin.html";
}

loadQuestions();

  </script>
</body>
</html>